# Package Manager Configuration
# Using pnpm for faster installs and better disk space efficiency

# Strict peer dependencies - ensures compatibility
auto-install-peers=true
strict-peer-dependencies=false

# Better dependency resolution
resolution-mode=highest
prefer-workspace-packages=true

# Node version enforcement (adjust if needed based on your Node version)
engine-strict=true

# Logging and output
loglevel=warn

# Performance optimizations
prefer-frozen-lockfile=false
shamefully-hoist=false

# Security
audit-level=moderate

# Build configurations
save-exact=false

# Enable better error messages
fetch-retries=3
fetch-retry-mintimeout=10000
fetch-retry-maxtimeout=60000

# Cache settings
# Using default store location for Docker compatibility
# store-dir=~/.pnpm-store

# Prisma specific - auto-install peer dependencies
# This helps with @prisma packages that have peer deps
public-hoist-pattern[]=*prisma*
public-hoist-pattern[]=*aws-sdk*
public-hoist-pattern[]=*nestjs*

# Legacy peer deps handling (if needed for older packages)
legacy-peer-deps=false
